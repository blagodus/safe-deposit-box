(this["webpackJsonpsafe-deposit-box"]=this["webpackJsonpsafe-deposit-box"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n(1),a=n.n(r),s=n(12),o=n.n(s),u=n(8),i=n(10),p=n(9),j="EXEC_COMMAND",d="KEYPAD_PRESS",f="KEYBOARD_PRESS",b="TURN_OF_SCREEN",O="SET_PASSCODE",x="LOCK_SAFE_DEPOSIT_BOX",l="UNLOCK_SAFE_DEPOSIT_BOX",v="SET_STATE",k={mode:"normal",isScreenOn:!1,isLocked:!1,info:"",passcode:"",savedPasscode:"",sn:"4815162342"},h=Object(i.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(p.a)(Object(p.a)({},e),{},{passcode:e.passcode+t.payload});case x:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{savedPasscode:e.passcode.slice(0,-1),passcode:""});case l:return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{savedPasscode:"",passcode:""});case v:return Object(p.a)(Object(p.a)({},e),t.payload);default:return e}}}),w=n(20),m=n(6),_=n.n(m),E=n(4),y=n(19),S=function(){var e=Object(y.a)(_.a.mark((function e(){var t,n,c,r=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,n);case 4:return c=e.sent,e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){return{type:d,payload:e}},L=function(){return{type:b}},N=function(e){return{type:l,payload:e}},P=function(e){return{type:v,payload:e}},C=_.a.mark(B),T=_.a.mark(K),D=_.a.mark(J),R=_.a.mark(V),A=_.a.mark(Y),F=_.a.mark(q),X=_.a.mark(z),I=_.a.mark(G),M=_.a.mark(H),U=_.a.mark(Q);function B(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.f)(P({mode:"normal",isScreenOn:!1,info:"",passcode:""}));case 2:case"end":return e.stop()}}),C)}function K(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.c)(5e3,b,B);case 2:case"end":return e.stop()}}),T)}function J(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.f)(P({info:"Error"}));case 2:return e.next=4,Object(E.d)(2e3);case 4:return e.next=6,Object(E.f)(P({info:"",passcode:""}));case 6:case"end":return e.stop()}}),D)}function V(){var e,t;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(E.g)();case 2:return e=n.sent,t=e.app,n.next=6,Object(E.f)(P({info:"Locking.."}));case 6:return n.next=8,Object(E.d)(3e3);case 8:return n.next=10,Object(E.f)((c={isLocked:!0,info:t.passcode.slice(0,-1)},{type:x,payload:c}));case 10:case"end":return n.stop()}var c}),R)}function Y(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.f)(P({info:"Unlocking.."}));case 2:return e.next=4,Object(E.d)(3e3);case 4:return e.next=6,Object(E.f)(N({isLocked:!1,info:"Ready"}));case 6:case"end":return e.stop()}}),A)}function q(){var e,t,n;return _.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(E.g)();case 2:return e=c.sent,t=e.app,c.prev=4,c.next=7,Object(E.f)(P({info:"Validating.."}));case 7:return c.next=9,Object(E.d)(2e3);case 9:return c.next=11,Object(E.b)(S,"https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?code=".concat(t.masterPasscode));case 11:if(n=c.sent,t.sn!==n.sn){c.next=17;break}return c.next=15,Object(E.f)(N);case 15:c.next=19;break;case 17:return c.next=19,J();case 19:c.next=25;break;case 21:return c.prev=21,c.t0=c.catch(4),c.next=25,J();case 25:case"end":return c.stop()}}),F,null,[[4,21]])}function z(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.f)(P({mode:"service",info:"Service"}));case 2:return e.next=4,Object(E.d)(2e3);case 4:return e.next=6,Object(E.f)(P({info:"",passcode:""}));case 6:return e.next=8,Object(E.f)(L());case 8:case"end":return e.stop()}}),X)}function G(){var e,t;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(E.g)();case 2:if(e=n.sent,!(t=e.app).isLocked||6!==t.passcode.length||t.passcode!==t.savedPasscode){n.next=9;break}return n.next=7,Y();case 7:n.next=26;break;case 9:if(t.isLocked||7!==t.passcode.length||"L"!==t.passcode[6]){n.next=14;break}return n.next=12,V();case 12:n.next=26;break;case 14:if(!t.isLocked||6!==t.passcode.length||"000000"!==t.passcode){n.next=19;break}return n.next=17,z();case 17:n.next=26;break;case 19:if(!("service"===t.mode&&t.passcode.length>6)){n.next=24;break}return n.next=22,q();case 22:n.next=26;break;case 24:return n.next=26,J();case 26:case"end":return n.stop()}}),I)}function H(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.c)(1200,j,G);case 2:case"end":return e.stop()}}),M)}function Q(e){var t,n,c;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(E.h)(e);case 3:return t=r.sent,r.next=6,Object(E.g)();case 6:return n=r.sent,c=n.app,r.next=10,Object(E.f)(P({isScreenOn:!0}));case 10:if(""!==c.info){r.next=15;break}return r.next=13,Object(E.f)((a=t.payload,{type:O,payload:a}));case 13:return r.next=15,Object(E.f)({type:j});case 15:return r.next=17,Object(E.f)(L());case 17:r.next=0;break;case 19:case"end":return r.stop()}var a}),U)}var W=_.a.mark(Z);function Z(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Object(E.e)(Q,d),Object(E.e)(Q,f),Object(E.e)(K),Object(E.e)(H)]);case 2:case"end":return e.stop()}}),W)}var $=Object(w.a)(),ee=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):i.d)(Object(i.a)($)),te=Object(i.e)(h,ee);$.run(Z);var ne=te,ce=(n(33),function(e){return Object(c.jsx)("div",{className:"app",children:Object(c.jsx)("main",{className:"panel",children:e.children})})}),re=function(){var e=Object(u.c)((function(e){return e.app.info})),t=Object(u.c)((function(e){return e.app.passcode}));return Object(c.jsx)("span",{className:"main-line",children:""!==e?e:t})},ae=function(){var e=Object(u.c)((function(e){return e.app.isLocked}));return Object(c.jsx)("span",{className:"status-line",children:e?"Locked":"Unlocked"})},se=function(){var e=Object(u.c)((function(e){return e.app.isScreenOn}));return Object(c.jsxs)("div",{className:"screen ".concat(e?"screen__on":"screen__off"),children:[Object(c.jsx)(ae,{}),Object(c.jsx)(re,{})]})};var oe=function(e){var t=e.value,n=Object(u.b)();return Object(c.jsx)("button",{className:"keypad-button",onClick:function(){return n(g(t))},children:t})},ue=function(){return Object(c.jsxs)("div",{className:"keypad",children:[Object(c.jsx)(oe,{value:"7"}),Object(c.jsx)(oe,{value:"8"}),Object(c.jsx)(oe,{value:"9"}),Object(c.jsx)(oe,{value:"4"}),Object(c.jsx)(oe,{value:"5"}),Object(c.jsx)(oe,{value:"6"}),Object(c.jsx)(oe,{value:"1"}),Object(c.jsx)(oe,{value:"2"}),Object(c.jsx)(oe,{value:"3"}),Object(c.jsx)(oe,{value:"*"}),Object(c.jsx)(oe,{value:"0"}),Object(c.jsx)(oe,{value:"L"})]})},ie=function(){var e=Object(u.b)(),t=function(t){var n="l"===t.key||"\u043b"===t.key?"L":t.key;["0","1","2","3","4","5","6","7","8","9","*","L"].includes(n)&&e(g(n))};return Object(r.useEffect)((function(){return window.document.addEventListener("keypress",t),function(){window.document.removeEventListener("keypress",t)}})),Object(c.jsxs)(ce,{children:[Object(c.jsx)(se,{}),Object(c.jsx)(ue,{})]})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(u.a,{store:ne,children:Object(c.jsx)(ie,{})})}),document.getElementById("root")),pe()}},[[34,1,2]]]);
//# sourceMappingURL=main.e6fbda7c.chunk.js.map